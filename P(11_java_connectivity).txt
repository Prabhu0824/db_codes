
package javaprojects;
import java.sql.*;
import java.util.*;
public class Switch_Case {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");
            Connection con = DriverManager.getConnection(
                    "jdbc:mysql://localhost:3306/demo_a1", "root", "root");
            Statement stm = con.createStatement();
            String createTable = "CREATE TABLE IF NOT EXISTS product (pid INT PRIMARY KEY, pname VARCHAR(50), price INT)";
            stm.executeUpdate(createTable);

            while (true) {
                System.out.println("\n--- Product Menu----");
                System.out.println("1. Add Product");
                System.out.println("2. Update Product");
                System.out.println("3. Delete Product");
                System.out.println("4. Show All Products");
                System.out.println("5. Exit");
                System.out.print("Enter your choice: ");
                int choice = sc.nextInt();
                sc.nextLine();

                switch (choice) {
                    case 1:
                        System.out.print("Enter product id: ");
                        int pidInsert = sc.nextInt();
                        sc.nextLine();
                        System.out.print("Enter product name: ");
                        String pnameInsert = sc.nextLine();
                        System.out.print("Enter product price: ");
                        int priceInsert = sc.nextInt();
                        String insertSQL = "INSERT INTO product VALUES(" + pidInsert + ", '" + pnameInsert + "', " + priceInsert + ")";
                        stm.executeUpdate(insertSQL);
                        System.out.println("Product added successfully.");
                        break;
                    case 2:
                        System.out.print("Enter id of product to update: ");
                        int pidUpdate = sc.nextInt();
                        sc.nextLine();
                        System.out.print("Enter new product name: ");
                        String pnameUpdate = sc.nextLine();
                        System.out.print("Enter new product price: ");
                        int priceUpdate = sc.nextInt();
                        String updateSQL = "UPDATE product SET pname='" + pnameUpdate + "', price=" + priceUpdate + " WHERE pid=" + pidUpdate;
                        stm.executeUpdate(updateSQL);
                        System.out.println("Product updated successfully.");
                        break;
                    case 3:
                        System.out.print("Enter id of product to delete: ");
                        int pidDelete = sc.nextInt();
                        String deleteSQL = "DELETE FROM product WHERE pid=" + pidDelete;
                        stm.executeUpdate(deleteSQL);
                        System.out.println("Product deleted successfully.");
                        break;
                    case 4:
                        ResultSet rs = stm.executeQuery("SELECT * FROM product");
                        System.out.println("\nAll Products:");
                        while (rs.next()) {
                            System.out.println("Id: " + rs.getInt("pid") + ", Name: " + rs.getString("pname") + ", Price: " + rs.getInt("price"));
                        }
                        rs.close();
                        break;
                    case 5:
                        System.out.println("Exiting program. Bye!");
                        stm.close();
                        con.close();
                        sc.close();
                        System.exit(0);
                        break;
                    default:
                        System.out.println("Invalid choice! Please choose 1-5.");
                }
            }
        } catch (Exception e) {
            System.out.println("Error: " + e);
        }
    }
}